
<!-- edit form -->
<div class="container-fluid mt-3">
    <div class="row">
        <div class="col-1"></div>
        <div class="col-10">

            <div class="container-fluid">
                <form action="" #form ="ngForm" (submit)="onSaveClick(foodItem.value)">
                    <div class="form-row mb-3">
                        <label><h2>Edit Menu Item</h2></label>
                    </div>

                    <div class="form-row">
                        <div class="form-group col">
                            <label for="title">Item Name</label>
                            <input 
                            type="text" 
                            class="form-control" 
                            name="title"
                            #title = "ngModel"
                            minlength="3"
                            maxlength="20" 
                            id="title"
                            [(ngModel)] = "foodItem.name"
                            placeholder="Enter item name"
                            required>
                        </div>
                    </div>
                    <div class="edit-validation-msg" *ngIf="title.errors?.required"> name is required</div>
                    <div class="edit-validation-msg" *ngIf="title.errors?.minlength != null"> name should hava min length</div>

                    <div class="form-row">
                        <div class="form-group col-md-12 col-lg-3">
                            <label for="price">Price</label>
                            <input 
                            type="number" 
                            class="form-control" 
                            name="price" 
                            id="price"
                            #price = "ngModel"
                            [(ngModel)] = "foodItem.price"
                            placeholder="Enter price"
                            required>
                        </div>

                        <div class="form-group col-md-12 col-lg-3">
                            <label for="dateoflaunch">Date of Launch</label>
                            <input 
                            type="text" 
                            class="form-control" 
                            name="dateoflaunch" 
                            id="dateoflaunch"
                            #dateoflaunch = "ngModel"
                            [ngModel] = "foodItem.dateOfLaunch | date: 'dd/MM/yyyy'"
                            (change) = "launchDate(dateoflaunch.value)"
                            placeholder="dd/MM/yyyy"
                            required>
                        </div>
                        <div class="form-group col-md-12 col-lg-3">
                            <label for="category">Category</label>
                            <select 
                            name="category" 
                            [(ngModel)]="foodItem.category" 
                            class="form-control" 
                            id="categroy"
                            >
                            <option *ngFor="let cat of category">{{cat}}</option>
                            </select>
                        </div>
                        <div class="col-md-12 col-lg-3">
                            <div class="form-row row mb-1"><label for="active">Active</label></div>
                            <div class="form-row pt-2">
                                <div class="col">
                                    <div class="form-check-inline">
                                        <input 
                                        type="radio" 
                                        class="form-check-input"
                                        name="active"
                                        [(ngModel)] = "foodItem.active"
                                        [value] = true 
                                        id="active"> 
                                        <label for="yes">Yes</label></div>
                                    <div class="form-check-inline">
                                        <input 
                                        type="radio" 
                                        class="form-check-input"
                                        name="active"
                                        [(ngModel)] = "foodItem.active" 
                                        [value] = false
                                        id="active">
                                        <label for="no">No</label></div>
                                </div>
                            </div>

                        </div>
                    </div>
                    <div class="form-row">
                        <div class="col-md-12 col-lg-3">
                            <div class="edit-validation-msg" *ngIf="price.errors?.required"> Price is required</div>
                        </div>
                        <div class="col-md-12 col-lg-3">
                                <div class="edit-validation-msg" *ngIf="dateoflaunch.errors?.required"> Date is required</div>
                        </div>
                        <div class="col-md-12 col-lg-3">
                            <div class="edit-validation-msg" *ngIf="foodItem.category == '' "> Category is required</div>
                        </div>
                    </div>

                    <div class="mt-3 form-group form-check col-md-12 col-lg-3">
                        <label class="form-check-label">
                            <input
                            class="form-check-input"
                            name="freedelivery"
                            id="freedelivery" 
                            type="checkbox"
                            [(ngModel)] = "foodItem.freeDelivery"
                            >Free delivery
                        </label>
                    </div>
                    <button type="submit" [disabled]="!form.valid" name="submit" class="btn nav-color text-light">Save</button>
                </form>

            </div>
        </div>
    </div>
</div>
<script>
    $('#dateoflaunch').datepicker({
        uiLibrary: 'bootstrap4',
        format: 'dd/mm/yyyy'
    });
</script>